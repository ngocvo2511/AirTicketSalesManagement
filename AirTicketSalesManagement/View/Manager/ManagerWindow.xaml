<Window x:Class="AirTicketSalesManagement.View.Manager.ManagerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:uc="clr-namespace:AirTicketSalesManagement.Resources.User_Controls"
        xmlns:body="clr-namespace:AirTicketSalesManagement.View.Manager"
        xmlns:Icon="http://metro.mahapps.com/winfx/xaml/iconpacks"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="FlyTogether" Height="700" Width="1200"
        WindowStartupLocation="CenterScreen"
        Background="White">
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/ResourceXAML/MainResource.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>

    <Grid>

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="220"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <Grid Grid.Column="0"
              TextElement.Foreground="{DynamicResource MaterialDesignBody}"
              TextElement.FontWeight="Regular"
              TextElement.FontSize="13"
              TextOptions.TextFormattingMode="Ideal"
              TextOptions.TextRenderingMode="Auto"
              TextElement.FontFamily="{DynamicResource MaterialDesignFont}">
            <Border Width="230" CornerRadius="0 15 15 0">
                <Border.Background>
                    <LinearGradientBrush>
                        <GradientStop Color="#84BCF4" Offset="0.1" />
                        <GradientStop Color="#388FF4" Offset="0.4" />
                        <GradientStop Color="#5371FF" Offset="0.95" />
                    </LinearGradientBrush>
                </Border.Background>

                <DockPanel Margin="10" LastChildFill="True">

                    <!-- Đăng xuất dock bottom -->
                    <Button DockPanel.Dock="Bottom"
                            Style="{StaticResource SidebarButton}"                      
                            Margin="0 40 10 40"
                            Command="{Binding LogoutCommand}">
                        <StackPanel Orientation="Horizontal">
                            <Icon:PackIconMaterial Kind="Logout" Width="24" Height="24" 
                                                    Margin="0,0,10,0" />
                            <TextBlock Text="Đăng xuất" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Button>

                    <!-- Nội dung còn lại -->
                    <!-- Sidebar -->
                    <StackPanel>
                        <!-- Logo -->
                        <Grid Margin="0,10,0,10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <Image Source="pack://application:,,,/Resources/Images/logo.png"
                                   Height="60" Width="60"
                                   Grid.Column="0"
                                   VerticalAlignment="Center"
                                   HorizontalAlignment="Left" />

                            <ToggleButton Style="{DynamicResource MaterialDesignHamburgerToggleButton}"
                                          Command="{Binding ToggleExpandCommand}"
                                          Grid.Column="1"
                                          HorizontalAlignment="Right"
                                          VerticalAlignment="Center"
                                          Margin="5" />
                        </Grid>

                        <TextBlock Text="Quản lý" FontWeight="Bold" 
                                   FontSize="16" Foreground="White" 
                                   Margin="0,20,0,10"/>

                        <!-- Trang chủ -->
                        <Button Style="{StaticResource SidebarButton}">
                            <StackPanel Orientation="Horizontal">
                                <Icon:PackIconMaterial Kind="Home" Width="24" Height="24" Margin="0,0,10,0" />
                                <TextBlock Text="Trang chủ" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>

                        <!-- Quản lý chuyến bay -->
                        <Button Style="{StaticResource SidebarButton}">
                            <StackPanel Orientation="Horizontal">
                                <Icon:PackIconMaterial Kind="Airplane" Width="24" Height="24" Margin="0,0,10,0" />
                                <TextBlock Text="Quản lý chuyến bay" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>

                        <!-- Quản lý lịch bay -->
                        <Button Style="{StaticResource SidebarButton}">
                            <StackPanel Orientation="Horizontal">
                                <Icon:PackIconMaterial Kind="CalendarClock" Width="24" Height="24" Margin="0,0,10,0" />
                                <TextBlock Text="Quản lý lịch bay" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>

                        <!-- Quản lý thông tin khách hàng -->
                        <Button Style="{StaticResource SidebarButton}">
                            <StackPanel Orientation="Horizontal">
                                <Icon:PackIconMaterial Kind="AccountMultiple" Width="24" Height="24" Margin="0,0,10,0" />
                                <TextBlock Text="Quản lý thông tin khách hàng" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>

                        <Expander Background="Transparent"
                                  Foreground="White"
                                  FontSize="14"
                                  Margin="0,0,10,10"
                                  ExpandDirection="Down">

                            <Expander.Header>
                                <StackPanel Orientation="Horizontal">
                                    <Icon:PackIconMaterial Kind="ChartBoxOutline" Width="24" Height="24" Margin="0,0,10,0"/>
                                    <TextBlock Text="Báo cáo"
                                               FontWeight="Bold"
                                               VerticalAlignment="Center"/>
                                </StackPanel>
                            </Expander.Header>

                            <StackPanel Margin="10,5,0,5">
                                <!-- Báo cáo doanh thu các chuyến bay -->
                                <Button Style="{StaticResource SidebarButton}" Padding="30,5,10,5"
                                        Command="{Binding NavigateToFlightRevenueReportCommand}">
                                    <StackPanel Orientation="Horizontal">
                                        <Icon:PackIconMaterial Kind="AirplaneTakeoff" Width="24" Height="24" Margin="0,0,10,0"/>
                                        <TextBlock Text="Doanh thu chuyến bay" VerticalAlignment="Center"/>
                                    </StackPanel>
                                </Button>

                                <!-- Báo cáo doanh thu theo năm -->
                                <Button Style="{StaticResource SidebarButton}" Padding="30,5,10,5"
                                        Command="{Binding NavigateToAnnualRevenueReportCommand}">
                                    <StackPanel Orientation="Horizontal">
                                        <Icon:PackIconMaterial Kind="CalendarMonth" Width="24" Height="24" Margin="0,0,10,0"/>
                                        <TextBlock Text="Doanh thu theo năm" VerticalAlignment="Center"/>
                                    </StackPanel>
                                </Button>
                            </StackPanel>
                        </Expander>

                        <!-- Hồ sơ cá nhân -->
                        <Button Style="{StaticResource SidebarButton}">
                            <StackPanel Orientation="Horizontal">
                                <Icon:PackIconMaterial Kind="AccountCircleOutline" Width="24" Height="24" Margin="0,0,10,0" />
                                <TextBlock Text="Hồ sơ cá nhân" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>

                        <!-- Thay đổi quy định -->
                        <Button Style="{StaticResource SidebarButton}">
                            <StackPanel Orientation="Horizontal">
                                <Icon:PackIconMaterial Kind="Cog" Width="24" Height="24" Margin="0,0,10,0" />
                                <TextBlock Text="Thay đổi quy định" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                    </StackPanel>
                </DockPanel>
            </Border>
        </Grid>

        <Grid Grid.Column="1">



            <ContentControl x:Name="MainContent" Grid.Row="1" 
           Content="{Binding CurrentViewModel}"/>

            <!--body:BookingHistoryUC Grid.Row="1"/-->
        </Grid>
    </Grid>
</Window>
